---
outline: deep
title: Nginx
order: 1
---

# Nginx

## Nginx 简介

轻量级高并发服务器

- 基于事件驱动架构，使得其可以支持数以百万级别的 TCP 连接。
- 高度的模块化和自由软件许可证，使得第三方模块层出不穷。
- 跨平台服务器，可以运行在 Linux、Windows、FreeBSD、Solaris、AIX、Mac OS 等操作系统

## 关于代理

代理：代表、渠道
客人到 Nike 专卖店买了一双鞋，这个专卖店就是代理，被代理角色就是 Nike 厂家，目标角色就是用户

### 正向代理

访问目标地址，配置代理服务器后，代理服务器帮助访问后返回。

- 代理的客户端，隐藏了客户端信息

#### 经典例子：翻墙

1. 找到可以访问国外网站的代理服务器
2. 请求发送给代理服务器
3. 代理服务器返回数据

#### 正向代理特点

- 来源未知 - 不知道请求来自于哪个客户端
- 明确去处 - 知道访问的服务器
- 需手动配置代理服务器

#### 正向代理用途

- 访问原来无法访问的资源，如 Google。
- 做缓存，加速访问资源。
- 对客户端访问授权，上网进行认证。
- 代理可以记录用户访问记录（上网行为管理），对外隐藏用户信息。

### 反向代理

向代理服务器（目标地址）发送请求， 代理服务器从真实服务器获取后返回。

- 误以为 代理服务器是目标地址
- 代理的服务器，隐藏了服务器信息

#### 经典例子：分布式服务器

海量的请求，单个服务器无法满足。
可以通过反向代理，将请求分发给不同服务器。

#### 反向代理特点

明确来源 - 知道请求来自哪个客户端
去除未知 - 不知道哪个服务器处理

#### 反向代理用途

- 保证内网安全，反向代理服务器作为公网，代理内网服务器
- 负载均衡，分发请求
- 前端跨域问题

### 正向代理和反向代理区别

本质上都是替服务器收发请求
![](https://cdn.nlark.com/yuque/0/2022/png/2621802/1649863755580-a8d2c287-9c22-41f4-8275-771f2321c1ea.png#clientId=udd7d0b77-b392-4&crop=0.1026&crop=0&crop=0.9179&crop=1&from=paste&height=460&id=Gf70U&margin=%5Bobject%20Object%5D&originHeight=621&originWidth=590&originalType=url&ratio=1&rotation=0&showTitle=false&status=done&style=none&taskId=uced2b983-d005-4ef0-9c83-bb51e009fa0&title=&width=437)

- 在正向代理中，Proxy 和 Client 同属于一个 LAN（图中方框内），隐藏了客户端信息。
- 在反向代理中，Proxy 和 Server 同属于一个 LAN（图中方框内），隐藏了服务端信息。

### 正向代理和反向代理同共存

正向代理和反向代理很有可能会存在同一个应用场景中，正向代理代理客户端的请求去访问目标服务器，目标服务器是一个反向单利服务器，反向代理了多台真实的业务处理服务器。

### 前端配置 proxy 的理解

项目启动，跑起 本地服务器 localhost:8080
通过 proxy 配置 target 为 47.47.47.47:4545

正向代理还是反向代理 => 反向代理

- localhost:8080 => 为代理服务器
- 所有请求都是向代理服务器请求，再由代理服务器转向帧则的服务器
- 服务器不可见，代理的服务器

## 相关链接

正向代理反向代理详解：https://www.cnblogs.com/wcwnina/p/8728391.html

理解前端代理：https://juejin.cn/post/6844904033874886663
